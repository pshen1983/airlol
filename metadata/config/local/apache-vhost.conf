<VirtualHost *:80>
	#ServerName www.example.com

	ServerAdmin webmaster@localhost
	DocumentRoot /opt/airlol

	<Directory /opt/airlol>
		RewriteEngine On
		RewriteCond %{REQUEST_URI} !^/rest/
		RewriteCond %{REQUEST_URI} !^/ajax/
		RewriteCond %{REQUEST_URI} !^/page/js/
		RewriteCond %{REQUEST_URI} !^/page/css/
		RewriteCond %{REQUEST_URI} !^/page/routes.php
		RewriteRule ^ /page/routes.php/%{REQUEST_URI}
		Require all granted
	</Directory>

	<Directory /opt/airlol/rest>
		RewriteEngine On
		RewriteCond %{REQUEST_URI} ^/rest/
		RewriteCond %{REQUEST_URI} !^/rest/routes.php
		RewriteRule ^ /rest/routes.php/%{REQUEST_URI}
		Require all granted
	</Directory>

	<Directory /opt/airlol/ajax>
		RewriteEngine On
		RewriteCond %{REQUEST_URI} ^/ajax/
		RewriteCond %{REQUEST_URI} !^/ajax/routes.php
		RewriteRule ^ /ajax/routes.php/%{REQUEST_URI}
		Require all granted
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
